<!-- Generated by SpecStory -->

# Implementing ControllerHandlerMiddleware for logging actions (2025-08-17 04:13Z)

_**User**_

Create an middleware named ControllerHandlerMiddleware.cs in FrameworkQ.ConsularServices project root and log all controller name , action and missed actions too. Then add it to web projects program.cs

---

_**Assistant**_

Reading `Program.cs` to see where to inject middleware. Checking service project csproj for ASP.NET Core references. Adding middleware file and wiring into `Program.cs`, then building solution. Need to add file (Add action) separately then update Program.cs. Adding middleware file then wiring into Program.cs, then building solution. Updating `Program.cs` to register the middleware. 
```

```
Building solution to ensure compilation succeeds. Added middleware and wired it into the pipeline.

Changes:
- Added `ControllerHandlerMiddleware.cs` in `` to log controller/action start/end plus misses with timing and status codes.
- Updated `Program.cs` in the web project to call `app.UseControllerHandlerLogging()` after authentication/authorization.
- Solution builds successfully.

Let me know if youâ€™d like it placed earlier (e.g., immediately after `UseRouting`) or to enrich logs (correlation ID, user, etc.). Want any adjustments?

---

